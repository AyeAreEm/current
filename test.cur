extern malloc :: fn(size: usize) *void;
extern free :: fn(ptr: *void) void;
extern putchar :: fn(c: i32) i32;

print_i32 :: fn(n: i32) void {
    num := n;
    if (num < 0) {
        putchar(cast(i32)'-');
        num = -num;
    }

    if (num / 10 > 0) {
        print_i32(num / 10);
    }

    putchar(num % 10 + cast(i32)'0');
}

main :: fn() void {
    x := cast(*i32)malloc(sizeof(i32));
    defer free(cast(*void)x);

    x.& = 10;
    print_i32(x.&);
    putchar(cast(i32)'\n');
}
